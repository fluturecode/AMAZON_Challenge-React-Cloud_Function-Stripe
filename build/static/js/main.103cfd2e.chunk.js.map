{"version":3,"sources":["context/StateProvider.js","firebase.js","components/Header.js","components/Product.js","components/Home.js","context/Reducer.js","components/Subtotal.js","components/CheckoutProduct.js","components/Checkout.js","components/Login.js","axios.js","components/Payment.js","components/Order.js","components/Orders.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","item","Home","getBasketTotal","reduce","amount","state","action","console","log","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","hideButton","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.103cfd2e.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\n// Prepares the dataLayer\nexport const StateContext = createContext();\n// Wrap our app and privide the data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n\t<StateContext.Provider value={useReducer(reducer, initialState)}>\n\t\t{children}\n\t</StateContext.Provider>\n);\n\n// Pull information from the data layer\nexport const useStateValue = () => useContext(StateContext);\n","import firebase from \"firebase\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyC89VTi8ONb0XN2R-lnwLzzwkNDypJ8Gig\",\n\tauthDomain: \"clone-275e1.firebaseapp.com\",\n\tdatabaseURL: \"https://clone-275e1.firebaseio.com\",\n\tprojectId: \"clone-275e1\",\n\tstorageBucket: \"clone-275e1.appspot.com\",\n\tmessagingSenderId: \"1048166373592\",\n\tappId: \"1:1048166373592:web:c13e401b52e505b83f5fad\",\n\tmeasurementId: \"G-GTRJD251EN\",\n};\n\n// initialize app\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\n\nconst auth = firebase.auth();\n\nexport { db, auth };\n","import React from \"react\";\nimport \"./Header.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"../context/StateProvider\";\nimport { auth } from \"../firebase\";\n\nfunction Header() {\n\tconst [{ basket, user }, dispatch] = useStateValue();\n\n\tconst handleAuthenticaton = () => {\n\t\tif (user) {\n\t\t\tauth.signOut();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"header\">\n\t\t\t<Link to=\"/\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"header__logo\"\n\t\t\t\t\tsrc=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\n\t\t\t\t\talt=\"amazon logo\"\n\t\t\t\t/>\n\t\t\t</Link>\n\n\t\t\t<div className=\"header__search\">\n\t\t\t\t<input className=\"header__searchInput\" type=\"text\" />\n\t\t\t\t<SearchIcon className=\"header__searchIcon\" />\n\t\t\t</div>\n\n\t\t\t<div className=\"header__nav\">\n\t\t\t\t<Link to={!user && \"/login\"}>\n\t\t\t\t\t<div onClick={handleAuthenticaton} className=\"header__option\">\n\t\t\t\t\t\t<span className=\"header__optionLineOne\">\n\t\t\t\t\t\t\tHello {!user ? \"Guest\" : user.email}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"header__optionLineTwo\">\n\t\t\t\t\t\t\t{user ? \"Sign Out\" : \"Sign In\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t<Link to=\"/orders\">\n\t\t\t\t\t<div className=\"header__option\">\n\t\t\t\t\t\t<span className=\"header__optionLineOne\">Returns</span>\n\t\t\t\t\t\t<span className=\"header__optionLineTwo\">& Orders</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t<div className=\"header__option\">\n\t\t\t\t\t<span className=\"header__optionLineOne\">Your</span>\n\t\t\t\t\t<span className=\"header__optionLineTwo\">Prime</span>\n\t\t\t\t</div>\n\n\t\t\t\t<Link to=\"/checkout\">\n\t\t\t\t\t<div className=\"header__optionBasket\">\n\t\t\t\t\t\t<ShoppingBasketIcon />\n\t\t\t\t\t\t<span className=\"header__optionLineTwo header__basketCount\">\n\t\t\t\t\t\t\t{basket?.length}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import React from \"react\";\nimport \"./Product.css\";\nimport { useStateValue } from \"../context/StateProvider.js\";\n\nfunction Product({ id, title, image, price, rating }) {\n\tconst [{ basket }, dispatch] = useStateValue();\n\n\tconst addToBasket = () => {\n\t\t// dispatch item to the data layer\n\t\tdispatch({\n\t\t\ttype: \"ADD_TO_BASKET\",\n\t\t\titem: {\n\t\t\t\tid: id,\n\t\t\t\ttitle: title,\n\t\t\t\timage: image,\n\t\t\t\tprice: price,\n\t\t\t\trating: rating,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"product\">\n\t\t\t<div className=\"product__info\">\n\t\t\t\t<p>{title}</p>\n\t\t\t\t<p className=\"product__price\">\n\t\t\t\t\t<small>$</small>\n\t\t\t\t\t<strong>{price}</strong>\n\t\t\t\t</p>\n\t\t\t\t<div className=\"product__rating\">\n\t\t\t\t\t{Array(rating)\n\t\t\t\t\t\t.fill()\n\t\t\t\t\t\t.map((_, i) => (\n\t\t\t\t\t\t\t<p>🌟</p>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img src={image} alt=\"Product image\" />\n\t\t\t<button onClick={addToBasket}>Add to Basket</button>\n\t\t</div>\n\t);\n}\n\nexport default Product;\n","import React from \"react\";\nimport \"./Home.css\";\nimport Product from \"./Product\";\n\nfunction Home() {\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<div className=\"home__container\">\n\t\t\t\t<div className=\"home__row\">\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"49038500\"\n\t\t\t\t\t\ttitle=\"ASUS VivoBook 15 Thin and Light Laptop, 15.6” FHD, Intel Core i3-8145U CPU\"\n\t\t\t\t\t\tprice={541.0}\n\t\t\t\t\t\trating={4}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/81mZ4eDWYkL._AC_SX679_.jpghttps://www.bhphotovideo.com/images/images2500x2500/samsung_c49hg90dmn_49_curved_va_panel_1345182.jpg\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"23445930\"\n\t\t\t\t\t\ttitle=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n\t\t\t\t\t\tprice={98.99}\n\t\t\t\t\t\trating={5}\n\t\t\t\t\t\timage=\"http://mobileimages.lowes.com/product/converted/841667/841667162096.jpg?size=pdhi\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"32543543\"\n\t\t\t\t\t\ttitle=\"New Apple iPad Pro (12.9-inch, WiFi, 128GB) - Silver (4th Generation\"\n\t\t\t\t\t\tprice={598.99}\n\t\t\t\t\t\trating={4}\n\t\t\t\t\t\timage=\"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/ipad-pro-12-select-wifi-spacegray-202003?wid=940&hei=1112&fmt=png-alpha&qlt=80&.v=1583552356577\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"home__row\">\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"39025829\"\n\t\t\t\t\t\ttitle=\"Audio-Technica AT-LP120XUSB-BK Direct-Drive Turntable (Analog & USB)\"\n\t\t\t\t\t\tprice={249.0}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/81LDEgi0awL._AC_SX679_.jpg\"\n\t\t\t\t\t\trating={5}\n\t\t\t\t\t/>\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"33020829\"\n\t\t\t\t\t\ttitle=\"Power Theory iPhone X/iPhone Xs Glass Screen Protector [2-Pack]\"\n\t\t\t\t\t\tprice={11.85}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/81wdDf6o-QL._AC_SL1500_.jpg\"\n\t\t\t\t\t\trating={2}\n\t\t\t\t\t/>\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"53634666\"\n\t\t\t\t\t\ttitle=\"Edifier R1700BT Bluetooth Bookshelf Speakers - Active Near-Field Studio Monitors - Powered Speakers\"\n\t\t\t\t\t\tprice={149.99}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/71J1U2tVdYL._AC_SL1500_.jpg\"\n\t\t\t\t\t\trating={4}\n\t\t\t\t\t/>\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"09344829\"\n\t\t\t\t\t\ttitle=\" 49.2FT LED Strip Lights, QZYL Lights Strip Music Sync, App Control with Remote\"\n\t\t\t\t\t\tprice={13.76}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/81lmAL14poL._AC_SL1500_.jpg\"\n\t\t\t\t\t\trating={3}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"home__row\">\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"49453968\"\n\t\t\t\t\t\ttitle=\" Sceptre 30-Inch 21: 9 Curved Creative Monitor C305W-2560UN 2560x1080p Ultra Wide Ultra Slim HDMI DisplayPort Up to 85Hz Mprt 1ms FPS-RTS Build-in Speakers, Machine Black 2020\"\n\t\t\t\t\t\tprice={228.87}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/81uNJ%2B-LyJL._AC_SL1500_.jpg\"\n\t\t\t\t\t\trating={5}\n\t\t\t\t\t/>\n\t\t\t\t\t<Product\n\t\t\t\t\t\tid=\"90829332\"\n\t\t\t\t\t\ttitle=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n\t\t\t\t\t\tprice={1094.98}\n\t\t\t\t\t\trating={4}\n\t\t\t\t\t\timage=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nexport default Home;\n","export const initialState = {\n\tbasket: [],\n\tuser: null,\n};\n\n// Selector\nexport const getBasketTotal = (basket) =>\n\tbasket?.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n\tconsole.log(action);\n\tswitch (action.type) {\n\t\tcase \"ADD_TO_BASKET\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbasket: [...state.basket, action.item],\n\t\t\t};\n\n\t\tcase \"EMPTY_BASKET\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbasket: [],\n\t\t\t};\n\n\t\tcase \"REMOVE_FROM_BASKET\":\n\t\t\tconst index = state.basket.findIndex(\n\t\t\t\t(basketItem) => basketItem.id === action.id\n\t\t\t);\n\t\t\tlet newBasket = [...state.basket];\n\n\t\t\tif (index >= 0) {\n\t\t\t\tnewBasket.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`Cant remove product (id: ${action.id}) as its not in basket!`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbasket: newBasket,\n\t\t\t};\n\n\t\tcase \"SET_USER\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: action.user,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default reducer;\n","import React, { useHistory } from \"react\";\nimport \"./Subtotal.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from \"../context/StateProvider\";\nimport { getBasketTotal } from \"../context/Reducer\";\n\nfunction Subtotal() {\n\tconst history = useHistory();\n\tconst [{ basket }, dispatch] = useStateValue();\n\n\treturn (\n\t\t<div className=\"subtotal\">\n\t\t\t<CurrencyFormat\n\t\t\t\trenderText={(value) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{/* Part of the homework */}\n\t\t\t\t\t\t\tSubtotal ({basket.length} items): <strong>{value}</strong>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<small className=\"subtotal__gift\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" /> This order contains a gift\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\tdecimalScale={2}\n\t\t\t\tvalue={getBasketTotal(basket)} // Part of the homework\n\t\t\t\tdisplayType={\"text\"}\n\t\t\t\tthousandSeparator={true}\n\t\t\t\tprefix={\"$\"}\n\t\t\t/>\n\n\t\t\t<button onClick={(e) => history.push(\"/payment\")}>\n\t\t\t\tProceed to Checkout\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nexport default Subtotal;\n","import React from \"react\";\nimport \"./CheckoutProduct.css\";\nimport { useStateValue } from \"../context/StateProvider\";\n\nfunction CheckoutProduct({ id, image, title, price, rating, hideButton }) {\n\tconst [{ basket }, dispatch] = useStateValue();\n\n\tconst removeFromBasket = () => {\n\t\t// remove the item from the basket\n\t\tdispatch({\n\t\t\ttype: \"REMOVE_FROM_BASKET\",\n\t\t\tid: id,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"checkoutProduct\">\n\t\t\t<img className=\"checkoutProduct__image\" src={image} />\n\n\t\t\t<div className=\"checkoutProduct__info\">\n\t\t\t\t<p className=\"checkoutProduct__title\">{title}</p>\n\t\t\t\t<p className=\"checkoutProduct__price\">\n\t\t\t\t\t<small>$</small>\n\t\t\t\t\t<strong>{price}</strong>\n\t\t\t\t</p>\n\t\t\t\t<div className=\"checkoutProduct__rating\">\n\t\t\t\t\t{Array(rating)\n\t\t\t\t\t\t.fill()\n\t\t\t\t\t\t.map((_, i) => (\n\t\t\t\t\t\t\t<p>🌟</p>\n\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t{!hideButton && (\n\t\t\t\t\t<button onClick={removeFromBasket}>Remove from Basket</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default CheckoutProduct;\n","import React from \"react\";\nimport \"./Checkout.css\";\nimport Subtotal from \"./Subtotal\";\nimport { useStateValue } from \"../context/StateProvider\";\nimport CheckoutProduct from \"./CheckoutProduct\";\n\nfunction Checkout() {\n\tconst [{ basket }] = useStateValue();\n\n\treturn (\n\t\t<div className=\"checkout\">\n\t\t\t<div className=\"checkout__left\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"checkout__ad\"\n\t\t\t\t\tsrc=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423592668_.jpg\"\n\t\t\t\t\talt=\"\"\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<h2 className=\"checkout__title\"> Your Shopping Basket</h2>\n\t\t\t\t\t{basket.map((item) => (\n\t\t\t\t\t\t<CheckoutProduct\n\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\timage={item.image}\n\t\t\t\t\t\t\tprice={item.price}\n\t\t\t\t\t\t\titem={item.rating}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"checkout__right\">\n\t\t\t\t<Subtotal />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Checkout;\n","import React, { useState } from \"react\";\nimport \"./Login.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { auth } from \"../firebase\";\n\nfunction Login() {\n\tconst history = useHistory();\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\tconst signIn = (e) => {\n\t\te.preventDefault();\n\n\t\tauth\n\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t.then((auth) => {\n\t\t\t\thistory.push(\"/\");\n\t\t\t})\n\t\t\t.catch((error) => alert(error.message));\n\t};\n\n\tconst register = (e) => {\n\t\te.preventDefault();\n\n\t\tauth\n\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t.then((auth) => {\n\t\t\t\t// it successfully created a new user with email and password\n\t\t\t\tif (auth) {\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => alert(error.message));\n\t};\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<Link to=\"/\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"login__logo\"\n\t\t\t\t\tsrc=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n\t\t\t\t/>\n\t\t\t</Link>\n\n\t\t\t<div className=\"login__container\">\n\t\t\t\t<h1>Sign-in</h1>\n\n\t\t\t\t<form>\n\t\t\t\t\t<h5>E-mail</h5>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<h5>Password</h5>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tonClick={signIn}\n\t\t\t\t\t\tclassName=\"login__signInButton\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSign In\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\n\t\t\t\t<p>\n\t\t\t\t\tBy signing-in you agree to the AMAZON FAKE CLONE Conditions of Use &\n\t\t\t\t\tSale. Please see our Privacy Notice, our Cookies Notice and our\n\t\t\t\t\tInterest-Based Ads Notice.\n\t\t\t\t</p>\n\n\t\t\t\t<button onClick={register} className=\"login__registerButton\">\n\t\t\t\t\tCreate your Amazon Account\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Login;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n\t// THE API (cloud function) URL\n\tbaseURL: \"https://clone-275e1.firebaseio.com\",\n\t// \"http://localhost:5001/challenge-4b2b2/us-central1/api\",\n});\n\nexport default instance;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Payment.css\";\nimport { useStateValue } from \"../context/StateProvider\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"../context/Reducer\";\nimport axios from \"../axios\";\nimport { db } from \"../firebase\";\n\nfunction Payment() {\n\tconst [{ basket, user }, dispatch] = useStateValue();\n\tconst history = useHistory();\n\n\tconst stripe = useStripe();\n\tconst elements = useElements();\n\n\tconst [succeeded, setSucceeded] = useState(false);\n\tconst [processing, setProcessing] = useState(\"\");\n\tconst [error, setError] = useState(null);\n\tconst [disabled, setDisabled] = useState(true);\n\tconst [clientSecret, setClientSecret] = useState(true);\n\n\tuseEffect(() => {\n\t\t// generate the special stripe secret which allows us to charge a customer\n\t\tconst getClientSecret = async () => {\n\t\t\tconst response = await axios({\n\t\t\t\tmethod: \"post\",\n\t\t\t\t// Stripe expects the total in a currencies subunits\n\t\t\t\turl: `/payments/create?total=${getBasketTotal(basket) * 100}`,\n\t\t\t});\n\t\t\tsetClientSecret(response.data.clientSecret);\n\t\t};\n\n\t\tgetClientSecret();\n\t}, [basket]);\n\n\tconst handleSubmit = async (event) => {\n\t\t// do all the fancy stripe stuff...\n\t\tevent.preventDefault();\n\t\tsetProcessing(true);\n\n\t\tconst payload = await stripe\n\t\t\t.confirmCardPayment(clientSecret, {\n\t\t\t\tpayment_method: {\n\t\t\t\t\tcard: elements.getElement(CardElement),\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(({ paymentIntent }) => {\n\t\t\t\t// paymentIntent = payment confirmation\n\n\t\t\t\tdb.collection(\"users\")\n\t\t\t\t\t.doc(user?.uid)\n\t\t\t\t\t.collection(\"orders\")\n\t\t\t\t\t.doc(paymentIntent.id)\n\t\t\t\t\t.set({\n\t\t\t\t\t\tbasket: basket,\n\t\t\t\t\t\tamount: paymentIntent.amount,\n\t\t\t\t\t\tcreated: paymentIntent.created,\n\t\t\t\t\t});\n\n\t\t\t\tsetSucceeded(true);\n\t\t\t\tsetError(null);\n\t\t\t\tsetProcessing(false);\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"EMPTY_BASKET\",\n\t\t\t\t});\n\n\t\t\t\thistory.replace(\"/orders\");\n\t\t\t});\n\t};\n\n\tconst handleChange = (event) => {\n\t\t// Listen for changes in the CardElement\n\t\t// and display any errors as the customer types their card details\n\t\tsetDisabled(event.empty);\n\t\tsetError(event.error ? event.error.message : \"\");\n\t};\n\n\treturn (\n\t\t<div className=\"payment\">\n\t\t\t<div className=\"payment__container\">\n\t\t\t\t<h1>\n\t\t\t\t\tCheckout (<Link to=\"/checkout\">{basket?.length} items</Link>)\n\t\t\t\t</h1>\n\n\t\t\t\t{/* Payment section - delivery address */}\n\t\t\t\t<div className=\"payment__section\">\n\t\t\t\t\t<div className=\"payment__title\">\n\t\t\t\t\t\t<h3>Delivery Address</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"payment__address\">\n\t\t\t\t\t\t<p>{user?.email}</p>\n\t\t\t\t\t\t<p>123 React Lane</p>\n\t\t\t\t\t\t<p>Los Angeles, CA</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Payment section - Review Items */}\n\t\t\t\t<div className=\"payment__section\">\n\t\t\t\t\t<div className=\"payment__title\">\n\t\t\t\t\t\t<h3>Review items and delivery</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"payment__items\">\n\t\t\t\t\t\t{basket.map((item) => (\n\t\t\t\t\t\t\t<CheckoutProduct\n\t\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\timage={item.image}\n\t\t\t\t\t\t\t\tprice={item.price}\n\t\t\t\t\t\t\t\trating={item.rating}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Payment section - Payment method */}\n\t\t\t\t<div className=\"payment__section\">\n\t\t\t\t\t<div className=\"payment__title\">\n\t\t\t\t\t\t<h3>Payment Method</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"payment__details\">\n\t\t\t\t\t\t{/* Stripe magic will go */}\n\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<CardElement onChange={handleChange} />\n\n\t\t\t\t\t\t\t<div className=\"payment__priceContainer\">\n\t\t\t\t\t\t\t\t<CurrencyFormat\n\t\t\t\t\t\t\t\t\trenderText={(value) => <h3>Order Total: {value}</h3>}\n\t\t\t\t\t\t\t\t\tdecimalScale={2}\n\t\t\t\t\t\t\t\t\tvalue={getBasketTotal(basket)}\n\t\t\t\t\t\t\t\t\tdisplayType={\"text\"}\n\t\t\t\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\t\t\t\tprefix={\"$\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button disabled={processing || disabled || succeeded}>\n\t\t\t\t\t\t\t\t\t<span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Errors */}\n\t\t\t\t\t\t\t{error && <div>{error}</div>}\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Payment;\n","import React from \"react\";\nimport \"./Order.css\";\nimport moment from \"moment\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport CurrencyFormat from \"react-currency-format\";\n\nfunction Order({ order }) {\n\treturn (\n\t\t<div className=\"order\">\n\t\t\t<h2>Order</h2>\n\t\t\t<p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\n\t\t\t<p className=\"order__id\">\n\t\t\t\t<small>{order.id}</small>\n\t\t\t</p>\n\t\t\t{order.data.basket?.map((item) => (\n\t\t\t\t<CheckoutProduct\n\t\t\t\t\tid={item.id}\n\t\t\t\t\ttitle={item.title}\n\t\t\t\t\timage={item.image}\n\t\t\t\t\tprice={item.price}\n\t\t\t\t\trating={item.rating}\n\t\t\t\t\thideButton\n\t\t\t\t/>\n\t\t\t))}\n\t\t\t<CurrencyFormat\n\t\t\t\trenderText={(value) => (\n\t\t\t\t\t<h3 className=\"order__total\">Order Total: {value}</h3>\n\t\t\t\t)}\n\t\t\t\tdecimalScale={2}\n\t\t\t\tvalue={order.data.amount / 100}\n\t\t\t\tdisplayType={\"text\"}\n\t\t\t\tthousandSeparator={true}\n\t\t\t\tprefix={\"$\"}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default Order;\n","import React, { useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport \"./Orders.css\";\nimport { useStateValue } from \"../context/StateProvider\";\nimport Order from \"./Order\";\n\nfunction Orders() {\n\tconst [{ basket, user }, dispatch] = useStateValue();\n\tconst [orders, setOrders] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (user) {\n\t\t\tdb.collection(\"users\")\n\t\t\t\t.doc(user?.uid)\n\t\t\t\t.collection(\"orders\")\n\t\t\t\t.orderBy(\"created\", \"desc\")\n\t\t\t\t.onSnapshot((snapshot) =>\n\t\t\t\t\tsetOrders(\n\t\t\t\t\t\tsnapshot.docs.map((doc) => ({\n\t\t\t\t\t\t\tid: doc.id,\n\t\t\t\t\t\t\tdata: doc.data(),\n\t\t\t\t\t\t}))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t} else {\n\t\t\tsetOrders([]);\n\t\t}\n\t}, [user]);\n\n\treturn (\n\t\t<div className=\"orders\">\n\t\t\t<h1>Your Orders</h1>\n\n\t\t\t<div className=\"orders__order\">\n\t\t\t\t{orders?.map((order) => (\n\t\t\t\t\t<Order order={order} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Orders;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport Home from \"./components/Home\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Checkout from \"./components/Checkout\";\nimport Login from \"./components/Login\";\nimport Payment from \"./components/Payment\";\nimport Orders from \"./components/Orders\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./context/StateProvider\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nconst promise = loadStripe(\n\t\"sk_test_51HPvUtB1fbBTGpJWkSVf0ntWMMaim8GhwDX22qTtLfV14ABqRtligdU56ONfNTwrrZin5uyt84tavq2s4DnW5v1n00ExUH768l\"\n);\n\nfunction App() {\n\tconst [{}, dispatch] = useStateValue();\n\n\tuseEffect(() => {\n\t\t// will only run once when the app component loads...\n\n\t\tauth.onAuthStateChanged((authUser) => {\n\t\t\tconsole.log(\"THE USER IS >>> \", authUser);\n\n\t\t\tif (authUser) {\n\t\t\t\t// the user just logged in / the user was logged in\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: authUser,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// the user is logged out\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: null,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<Router>\n\t\t\t<div className=\"app\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/orders\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Orders />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/checkout\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Checkout />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/payment\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Elements stripe={promise}>\n\t\t\t\t\t\t\t<Payment />\n\t\t\t\t\t\t</Elements>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport reducer, { initialState } from \"./context/Reducer\";\nimport { StateProvider } from \"./context/StateProvider\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<StateProvider initialState={initialState} reducer={reducer}>\n\t\t\t<App />\n\t\t</StateProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}